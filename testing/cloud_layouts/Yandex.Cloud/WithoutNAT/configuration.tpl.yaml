---
apiVersion: deckhouse.io/v1alpha1
kind: ClusterConfiguration
clusterType: Cloud
cloud:
  provider: Yandex
  prefix: 'a${PREFIX}'
podSubnetCIDR: 10.111.0.0/16
serviceSubnetCIDR: 10.222.0.0/16
kubernetesVersion: '${KUBERNETES_VERSION}'
defaultCRI: '${CRI}'
clusterDomain: "cluster.local"
---
apiVersion: deckhouse.io/v1alpha1
kind: InitConfiguration
deckhouse:
  imagesRepo: registry.flant.com/sys/antiopa
  registryDockerCfg: '${DECKHOUSE_DOCKERCFG}'
  devBranch: '${DEV_BRANCH}'
  configOverrides:
    prometheusMadisonIntegrationEnabled: false
    global:
      clusterName: smoke
      project: dev-rnd
      modules:
        publicDomainTemplate: "%s.k8s.smoke.flant.com"
---
apiVersion: deckhouse.io/v1alpha1
kind: YandexClusterConfiguration
sshPublicKey: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDTXjTmx3hq2EPDQHWSJN7By1VNFZ8colI5tEeZDBVYAe9Oxq4FZsKCb1aGIskDaiAHTxrbd2efoJTcPQLBSBM79dcELtqfKj9dtjy4S1W0mydvWb2oWLnvOaZX/H6pqjz8jrJAKXwXj2pWCOzXerwk9oSI4fCE7VbqsfT4bBfv27FN4/Vqa6iWiCc71oJopL9DldtuIYDVUgOZOa+t2J4hPCCSqEJK/r+ToHQbOWxbC5/OAufXDw2W1vkVeaZUur5xwwAxIb3wM3WoS3BbwNlDYg9UB2D8+EZgNz1CCCpSy1ELIn7q8RnrTp0+H8V9LoWHSgh3VCWeW8C/MnTW90IR"
layout: WithoutNAT
nodeNetworkCIDR: 10.100.0.0/21
masterNodeGroup:
  replicas: 1
  instanceClass:
    cores: 4
    memory: 8192
    imageID: fd8vqk0bcfhn31stn2ts
    diskSizeGB: 50
    externalIPAddresses:
    - Auto
provider:
  cloudID: '${CLOUD_ID}'
  folderID: '${FOLDER_ID}'
  serviceAccountJSON: '${SERVICE_ACCOUNT_JSON}'
