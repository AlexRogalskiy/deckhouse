---
apiVersion: deckhouse.io/v1alpha1
kind: ClusterConfiguration
clusterType: Cloud
cloud:
  provider: AWS
  prefix: '${PREFIX}'
podSubnetCIDR: 10.111.0.0/16
serviceSubnetCIDR: 10.222.0.0/16
kubernetesVersion: '${KUBERNETES_VERSION}'
clusterDomain: "cluster.local"
---
apiVersion: deckhouse.io/v1alpha1
kind: InitConfiguration
deckhouse:
  imagesRepo: registry.flant.com/sys/antiopa
  registryDockerCfg: '${DECKHOUSE_DOCKERCFG}'
  devBranch: '${DEV_BRANCH}'
  configOverrides:
    prometheusMadisonIntegrationEnabled: false
    global:
      clusterName: smoke
      project: dev-rnd
      modules:
        publicDomainTemplate: "%s.k8s.smoke.flant.com"
---
apiVersion: deckhouse.io/v1alpha1
kind: AWSClusterConfiguration
layout: WithoutNAT
provider:
  providerAccessKeyId: '${AWS_ACCESS_KEY}'
  providerSecretAccessKey: '${AWS_SECRET_ACCESS_KEY}'
  region: eu-central-1
masterNodeGroup:
  replicas: 1
  instanceClass:
    instanceType: m5.xlarge
    ami: ami-006a0174c6c25ac06
nodeNetworkCIDR: "172.16.0.0/22"
vpcNetworkCIDR: "172.16.0.0/16"
sshPublicKey: '${SSH_PUBLIC_KEY}'
