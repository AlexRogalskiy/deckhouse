bashible: &bashible
  ubuntu: &ubuntu
    '16.04':
      docker:
        desiredVersion: "docker-ce=5:18.09.7~3-0~ubuntu-xenial"
        allowedPattern: ""
        containerd:
          desiredVersion: "containerd.io=1.4.3-1"
          allowedPattern: "containerd.io=1.[23]"
      containerd:
        desiredVersion: "containerd.io=1.4.3-1"
        allowedPattern: ""
      kernel:
        generic:
          desiredVersion: "4.18.0-20-generic"
          allowedPattern: ""
    '18.04':
      docker:
        desiredVersion: "docker-ce=5:18.09.7~3-0~ubuntu-bionic"
        allowedPattern: ""
        containerd:
          desiredVersion: "containerd.io=1.4.3-1"
          allowedPattern: "containerd.io=1.[23]"
      containerd:
        desiredVersion: "containerd.io=1.4.3-1"
        allowedPattern: ""
      kernel:
        generic:
          desiredVersion: "5.3.0-51-generic"
          allowedPattern: ""
        aws:
          desiredVersion: "5.3.0-1017-aws"
          allowedPattern: ""
        azure:
          desiredVersion: "5.4.0-1034-azure"
          allowedPattern: ""
        gcp:
          desiredVersion: "5.3.0-1018-gcp"
          allowedPattern: ""
    '20.04':
      docker:
        desiredVersion: "docker-ce=5:19.03.13~3-0~ubuntu-focal"
        allowedPattern: ""
        containerd:
          desiredVersion: "containerd.io=1.4.3-1"
          allowedPattern: "containerd.io=1.[23]"
      containerd:
        desiredVersion: "containerd.io=1.4.3-1"
        allowedPattern: ""
      kernel:
        generic:
          desiredVersion: "5.4.0-54-generic"
          allowedPattern: ""
        aws:
          desiredVersion: "5.4.0-1029-aws"
          allowedPattern: ""
        azure:
          desiredVersion: "5.4.0-1034-azure"
          allowedPattern: ""
        gcp:
          desiredVersion: "5.4.0-1029-gcp"
          allowedPattern: ""
  centos:
    '7':
      docker:
        desiredVersion: "docker-ce-18.09.9-3.el7.x86_64"
        allowedPattern: ""
      containerd:
        desiredVersion: "containerd.io-1.4.3-3.1.el7.x86_64"
        allowedPattern: ""
      kernel:
        generic:
          desiredVersion: "3.10.0-1127.8.2.el7.x86_64"
          allowedPattern: ""
k8s:
  '1.16':
    patch: 15
    cni_version: 0.8.6
    bashible: *bashible
    ccm:
      openstack: 5dcb9bbd77a3595781e6a9fb366fdc205aaabf7c
      yandex: v0.15.12-fix.1
      aws: 635c59939c660695e1d517ad92b260ae6870223f
      vsphere: deckhouse-0.2
      gcp: v1.15.4
    csi:
      openstack: v1.19.0
      provisioner: v1.6.1
      attacher: v2.2.1
      resizer: v1.0.0
      registrar: v2.0.1
  '1.17':
    patch: 17
    cni_version: 0.8.7
    bashible: *bashible
  '1.18':
    patch: 19
    cni_version: 0.8.7
    bashible: *bashible
  '1.19':
    patch: 11
    cni_version: 0.8.7
    bashible: &bashible_k8s_ge_1_19
      <<: *bashible
      ubuntu:
        <<: *ubuntu
        '18.04':
          docker:
            desiredVersion: "docker-ce=5:19.03.13~3-0~ubuntu-bionic"
            allowedPattern: "docker-ce=5:18.09.7~3-0~ubuntu-bionic"
            containerd:
              desiredVersion: "containerd.io=1.4.3-1"
              allowedPattern: "containerd.io=1.[23]"
          containerd:
            desiredVersion: "containerd.io=1.4.3-1"
            allowedPattern: ""
          kernel:
            generic:
              desiredVersion: "5.3.0-51-generic"
              allowedPattern: ""
            aws:
              desiredVersion: "5.3.0-1017-aws"
              allowedPattern: ""
            azure:
              desiredVersion: "5.4.0-1034-azure"
              allowedPattern: ""
            gcp:
              desiredVersion: "5.3.0-1018-gcp"
              allowedPattern: ""
    ccm:
      openstack: v1.19.2
      yandex: v0.19.3-fix.3
      aws: b390ec15ea471adc8312b4528cf37814852b993e
      vsphere: 6d76e17cad08d583b8ff6fc5c80f119807ed0f57
      azure: v0.6.0
      gcp: ca1e685df450fd5d32b57a659eb363b870b03937
    csi:
      openstack: v1.19.0
      provisioner: v2.0.4
      attacher: v3.0.2
      resizer: v1.0.0
      registrar: v2.0.1
  '1.20':
    patch: 7
    cni_version: 0.8.7
    bashible: *bashible_k8s_ge_1_19
    ccm:
      openstack: v1.20.1
      yandex: v0.20.4
      aws: 9e3808d53f0364178f2c40476ea368f3c5140d39
      vsphere: 6d76e17cad08d583b8ff6fc5c80f119807ed0f57
      azure: v0.7.2
      gcp: 880c0a9ded79c51a2be835b0872de3597cff059b
    csi:
      openstack: v1.20.1
      provisioner: v2.1.0
      attacher: v3.1.0
      resizer: v1.1.0
      registrar: v2.1.0
  '1.21':
    patch: 1
    cni_version: 0.8.7
    bashible: *bashible_k8s_ge_1_19
    ccm:
      openstack: v1.21.0
      yandex: v0.21.0
      aws: d31100461a83378b658b1ab2c689d79987a0d863
      vsphere: 6d76e17cad08d583b8ff6fc5c80f119807ed0f57
      azure: v1.0.0
      gcp: f385bda395a6a64d9964605ab0a69d071155f2e5
    csi:
      openstack: v1.21.0
      provisioner: v2.1.0
      attacher: v3.1.0
      resizer: v1.1.0
      registrar: v2.1.0
