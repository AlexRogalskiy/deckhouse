diff --git a/pkg/services/provisioning/dashboards/file_reader.go b/pkg/services/provisioning/dashboards/file_reader.go
index 698a3587b4..d961c55337 100644
--- a/pkg/services/provisioning/dashboards/file_reader.go
+++ b/pkg/services/provisioning/dashboards/file_reader.go
@@ -98,6 +98,15 @@ func (fr *fileReader) startWalkingDisk() error {
 
 	// save dashboards based on json files
 	for path, fileInfo := range filesFoundOnDisk {
+		if fr.Cfg.Options["folderFromFileStructure"].(bool) {
+			fr.Cfg.Folder = filepath.Base(filepath.Dir(path))
+			fr.log.Debug("folder name", "warning", fr.Cfg.Folder)
+
+			folderId, err = getOrCreateFolderId(fr.Cfg, fr.dashboardProvisioningService)
+			if err != nil && err != ErrFolderNameMissing {
+				return err
+			}
+		}
 		provisioningMetadata, err := fr.saveDashboard(path, folderId, fileInfo, provisionedDashboardRefs)
 		sanityChecker.track(provisioningMetadata)
 		if err != nil {
