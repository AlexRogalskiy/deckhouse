{{- range (tuple "coreos" "kubernetes" "applications") }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: prometheus-rules-{{ . }}
  namespace: kube-prometheus
  labels:
    heritage: antiopa
    module: {{ $.Chart.Name }}
    app: prometheus
    prometheus: main
    component: rules
data:
{{ ($.Files.Glob (print "prometheus-rules/" . "/*.yaml") ).AsConfig | indent 2 }}
{{- end }}
