- name: heaspter.resource.limits
  rules:
  - alert: HeapsterHasCPULimits
    expr: max by (pod) (kube_pod_container_resource_limits{namespace="kube-system", container="heapster", resource="cpu"})
    for: 1h
    labels:
      impact: negligible
      likelihood: possible
    annotations:
      polk_flant_com_markup_format: markdown
      description: |-
        Данный алерт говорит о том, что в поде heapster у контейнера heapster стоят CPU лимиты, скорее всего это означает, что у вас Azure кластер, в котором heapster ставится не antiop'ой. Вам необходимо применить данную [инструкцию](https://fox.flant.com/docs/kb/blob/master/guide-install/040-install-azure.md#%D0%B7%D0%B0%D0%BC%D0%B5%D0%BD%D0%B0-heapster). Тогда вы перестанете получать алерты вида `KubernetesContainerCFSThrottling`.
      summary: У контейнера heapster в поде {{$labels.pod}} проставлены CPU лимиты
