{{- $options := dict -}}
{{- if hasKey .nodeGroup.instanceClass "ami" -}}
  {{- $_ := set $options "ami" .nodeGroup.instanceClass.ami -}}
{{- end -}}
{{- $_ := set $options "instanceType" .nodeGroup.instanceClass.instanceType -}}
{{- if hasKey .nodeGroup.instanceClass "spot" -}}
  {{- $_ := set $options "spot" .nodeGroup.instanceClass.spot -}}
{{- end -}}
{{- if hasKey .nodeGroup.instanceClass "diskSizeGb" -}}
  {{- $_ := set $options "diskSizeGb" .nodeGroup.instanceClass.diskSizeGb -}}
{{- end -}}
{{- if hasKey .nodeGroup.instanceClass "diskType" -}}
  {{- $_ := set $options "diskType" .nodeGroup.instanceClass.diskType -}}
{{- end -}}
{{- if hasKey .nodeGroup.instanceClass "iops" -}}
  {{ $_ := set $options "iops" .nodeGroup.instanceClass.iops -}}
{{- end -}}
{{- if (index .nodeGroup "manualRolloutID") -}}
  {{ $_ := set $options "manualRolloutID" (index .nodeGroup "manualRolloutID") -}}
{{- end -}}
{{- $options | toYaml | trimSuffix "\n" | printf "%s\n" | sha256sum -}}
