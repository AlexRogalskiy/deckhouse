- name: node-local-dns
  rules:
  - alert: NodeLocalDnsNotScheduledOnNode
    expr: |
      max by (node) (kube_node_info)
      unless
      max by (node) (up{job="node-local-dns"})
    for: 1h
    labels:
      likelihood: certain
      impact: marginal
    annotations:
      plk_protocol_version: "1"
      summary: node-local-dns Pod cannot schedule on Node {{ $labels.node }}
      description: |
        node-local-dns Pod cannot schedule on Node {{ $labels.node }}.

        Consider checking state of the kube-system/node-local-dns DaemonSet.
