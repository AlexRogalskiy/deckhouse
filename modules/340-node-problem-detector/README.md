Модуль node-problem-detector
============================

## Назначение

Данный модуль добавляет дополнительные condition к описанию ноды, которые можно посмотреть с помощью (`kubectl describe node <Node_name>`). Данные condition просто информативные и не переводят ноду в статус NotReady. При срабатывании `permanent` condition'ов будет алерт о наступлении данного `condition`, но нода остается в статусе Ready. 

В NDP мы добавляем такие условия для нод:

UnregisterNetDevice — это [баг в Docker](https://github.com/moby/moby/issues/5618);
KernelDeadlock — данное условие говорит о том, что на ноде есть процесс, выполнение которого захватило весь ЦПУ и не дает процессорного времени для других процессов;
ReadonlyFilesystem — данный condition говорит нам о том, что файловая система перешла в RO из-за ошибок;
OOMKilling — когда OOM киллер начинает работать на хосте;
KernelOops — баг ядра, может потребоваться перезагрузка сервера.

Условия могут быть двух видов:
* `permanent` — события, которые влияют на работу ноды и требуют ручных действий. В данном случае будет алерт о срабатывании данного условия (KernelDeadlock, ReadonlyFilesystem, TaskHung);
* `temporary` — события, которые не сильн влияют на работу ноды и не требуют проведения работ на ноде (OOMKiller, UnregisterNetDevice, KernelOops.

В случае нахождения проблем, которые могут влиять на работу системы, можно добавить еще правил для отслеживания проблем ядра. Если у вас зависла нода и в логах есть что-то интересное, сообщите в канал #dev-antiopa.

## Конфигурация

Никакая настройка для данного модуля не нужна.
