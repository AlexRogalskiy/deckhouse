{{- if (.Values.global.enabledModules | has "operator-prometheus-crd") }}
---
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  name: cert-manager
  namespace: d8-cert-manager
{{ include "helm_lib_module_labels" (list . (dict "app" "prometheus" "prometheus" "main" "component" "rules")) | indent 2 }}
spec:
  groups:
  {{- range $path, $_ := .Files.Glob (print "monitoring/prometheus-rules/*.yaml") }}
{{ $.Files.Get $path | indent 4 }}
  {{- end }}
{{- end }}
