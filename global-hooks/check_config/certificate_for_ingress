#!/bin/bash

source /antiopa/shell_lib.sh

function __config__() {
  jo -p onStartup=5
}

function __main__() {
  if [ "$(values::get global.certificateForIngress.customCertificateSecretName)" != "false" ] && [ "$(values::get global.certificateForIngress.certmanagerClusterIssuerName)" != "false" ] ; then
    >&2 echo "You need to use only one of the parameters: global.certificateForIngress.certmanagerClusterIssuerName or global.certificateForIngress.customCertificateSecretName"
    exit 1
  fi
}

hook::run $@
